"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7624],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=d(n),u=i,m=c["".concat(l,".").concat(u)]||c[u]||h[u]||r;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var d=2;d<r;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},8317:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return d},default:function(){return h}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o={sidebar_position:14,title:"Troubleshooting",id:"troubleshooting"},s=void 0,l={unversionedId:"troubleshooting",id:"troubleshooting",isDocsHomePage:!1,title:"Troubleshooting",description:"Use this guide to troubleshoot issues with location tracking and event generation.",source:"@site/docs/troubleshooting.mdx",sourceDirName:".",slug:"/troubleshooting",permalink:"/documentation/troubleshooting",editUrl:"https://github.com/radarlabs/docs/edit/main/docs/troubleshooting.mdx",tags:[],version:"current",sidebarPosition:14,frontMatter:{sidebar_position:14,title:"Troubleshooting",id:"troubleshooting"},sidebar:"defaultSidebar",previous:{title:"Dashboard",permalink:"/documentation/dashboard"},next:{title:"FAQs",permalink:"/documentation/faqs"}},d=[{value:"Device is not showing up in the dashboard",id:"device-is-not-showing-up-in-the-dashboard",children:[{value:"Common issues",id:"common-issues",children:[]},{value:"Troubleshooting steps",id:"troubleshooting-steps",children:[]}]},{value:"Events are not firing when the app is backgrounded",id:"events-are-not-firing-when-the-app-is-backgrounded",children:[{value:"Common issues",id:"common-issues-1",children:[]},{value:"Troubleshooting steps",id:"troubleshooting-steps-1",children:[]}]},{value:"Event listeners are not delivering",id:"event-listeners-are-not-delivering",children:[{value:"Common issues",id:"common-issues-2",children:[]},{value:"Troubleshooting steps",id:"troubleshooting-steps-2",children:[]}]},{value:"Troubleshooting other behavior",id:"troubleshooting-other-behavior",children:[{value:"Multiple Radar users have the same user ID or device ID",id:"multiple-radar-users-have-the-same-user-id-or-device-id",children:[]},{value:"Rate limit errors are occurring when tracking location",id:"rate-limit-errors-are-occurring-when-tracking-location",children:[]}]}],p={toc:d};function h(e){var t=e.components,o=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Use this guide to troubleshoot issues with location tracking and event generation."),(0,r.kt)("h2",{id:"device-is-not-showing-up-in-the-dashboard"},"Device is not showing up in the dashboard"),(0,r.kt)("p",null,"A device will show up in the Radar dashboard once a successful ",(0,r.kt)("a",{parentName:"p",href:"/api#track"},"track API")," call has been sent to the server. The Radar ",(0,r.kt)("a",{parentName:"p",href:"/sdk"},"SDK")," collects location updates and then sends them to the server via the track API."),(0,r.kt)("h3",{id:"common-issues"},"Common issues"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Location permissions have not been granted."),(0,r.kt)("li",{parentName:"ul"},"The Radar SDK has not been properly initialized."),(0,r.kt)("li",{parentName:"ul"},"Radar tracking methods have not been implemented correctly.")),(0,r.kt)("h3",{id:"troubleshooting-steps"},"Troubleshooting steps"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Verify location permissions have been granted."),(0,r.kt)("li",{parentName:"ol"},"Verify that initializing the SDK uses the correct publishable key and happens during application launch. This initialization should happen in the ",(0,r.kt)("inlineCode",{parentName:"li"},"onCreate()")," method of the ",(0,r.kt)("inlineCode",{parentName:"li"},"Application")," class on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#initialize-sdk"},"Android")," and the ",(0,r.kt)("inlineCode",{parentName:"li"},"didFinishLaunchingWithOptions()")," method of the ",(0,r.kt)("inlineCode",{parentName:"li"},"AppDelegate")," on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#initialize-sdk"},"iOS"),"."),(0,r.kt)("li",{parentName:"ol"},"Call ",(0,r.kt)("inlineCode",{parentName:"li"},"Radar.trackOnce()")," on application launch and log the status in the callback. Refer to the ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#foreground-tracking"},"iOS")," and ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#foreground-tracking"},"Android")," implementations to understand the status values returned."),(0,r.kt)("li",{parentName:"ol"},"Call ",(0,r.kt)("inlineCode",{parentName:"li"},"Radar.setLogLevel()")," with a value of ",(0,r.kt)("inlineCode",{parentName:"li"},"debug")," and monitor for errors in the logs. Refer to the debug logging sections of ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#debug-logging"},"iOS")," and ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#debug-logging"},"Android")," for more detail.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"A successful Radar API request log looks like the following:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"2022-11-08 11:33:01.784759-0500 RadarImplementation[6947:250060] \ud83d\udccd Radar API response | method = POST; url = https://api.radar.io/v1/track; statusCode = 200;\n")),(0,r.kt)("p",null,"Once a successful API call is made, there will be a corresponding user on the ",(0,r.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/users"},"Users page")," in the dashboard."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Verify that Radar is registering users on the Users page:")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"User Record",src:n(1288).Z})),(0,r.kt)("h2",{id:"events-are-not-firing-when-the-app-is-backgrounded"},"Events are not firing when the app is backgrounded"),(0,r.kt)("p",null,"As the Radar SDK collects location updates and sends them to the server, it will generate events based on location context (e.g., the device moves into or out of a geofence or starts a trip). Generated events will appear on the ",(0,r.kt)("a",{parentName:"p",href:"https://radar.com/dashboard/events"},"Events page")," in the dashboard if location updates are triggering events as expected. If the device's last location is in a geofence or a place, that information will be displayed on the details page for that user."),(0,r.kt)("h3",{id:"common-issues-1"},"Common issues"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Background location permissions have not been granted."),(0,r.kt)("li",{parentName:"ul"},"Radar events are not enabled on the ",(0,r.kt)("a",{parentName:"li",href:"https://radar.com/dashboard/settings"},"Settings page")," in the dashboard."),(0,r.kt)("li",{parentName:"ul"},"Radar tracking methods have not been implemented correctly."),(0,r.kt)("li",{parentName:"ul"},"The test device has issues collecting location updates (e.g., location sensors are not working in the simulator)."),(0,r.kt)("li",{parentName:"ul"},"Flawed testing based on the ",(0,r.kt)("a",{parentName:"li",href:"/sdk/tracking"},"tracking options")," applied (e.g., geofence stop detection is on, but the device is not dwelling long enough to detect a stop).")),(0,r.kt)("h3",{id:"troubleshooting-steps-1"},"Troubleshooting steps"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Verify that initializing the SDK uses the correct publishable key and happens during application launch. This initialization should happen in the ",(0,r.kt)("inlineCode",{parentName:"li"},"onCreate()")," method of the ",(0,r.kt)("inlineCode",{parentName:"li"},"Application")," class on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#initialize-sdk"},"Android")," and the ",(0,r.kt)("inlineCode",{parentName:"li"},"didFinishLaunchingWithOptions()")," method of the ",(0,r.kt)("inlineCode",{parentName:"li"},"AppDelegate")," on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#initialize-sdk"},"iOS"),". On iOS, verify that the ",(0,r.kt)("em",{parentName:"li"},"Location updates")," ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#background-modes"},"background mode")," has been enabled if using the responsive or continuous presets."),(0,r.kt)("li",{parentName:"ol"},"Confirm that events are enabled for the context type you are testing on the ",(0,r.kt)("a",{parentName:"li",href:"https://radar.com/dashboard/settings"},"Settings page"),"."),(0,r.kt)("li",{parentName:"ol"},"Confirm that you are calling ",(0,r.kt)("inlineCode",{parentName:"li"},"Radar.startTracking()"),"."),(0,r.kt)("li",{parentName:"ol"},"Determine the behavior needed to trigger location updates based on the ",(0,r.kt)("a",{parentName:"li",href:"/sdk/tracking"},"tracking options")," in use and verify that they appear in the Radar dashboard. For example, if the device is stopped in responsive mode, move over 200 meters to trigger a location update. Location updates can be verified on the ",(0,r.kt)("a",{parentName:"li",href:"https://radar.com/dashboard/users"},"Users page")," in the dashboard or on the ",(0,r.kt)("a",{parentName:"li",href:"/dashboard#user-activity"},"User Activity")," page."),(0,r.kt)("li",{parentName:"ol"},"If location updates are still not appearing, call ",(0,r.kt)("inlineCode",{parentName:"li"},"Radar.setLogLevel()")," with a value of ",(0,r.kt)("inlineCode",{parentName:"li"},"debug")," and monitor for errors in the logs. Refer to the debug logging sections of ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#debug-logging"},"iOS")," and ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#debug-logging"},"Android")," for more detail.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Verify that events are firing on the Events page:")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Recent Events",src:n(297).Z})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Verify a device's current geofences on the User details page:")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"User Content",src:n(587).Z})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note: a device needs to exit a geofence before generating a subsequent entry event, so ensure that the device has been detected outside of the geofence prior to testing another entry.")),(0,r.kt)("h2",{id:"event-listeners-are-not-delivering"},"Event listeners are not delivering"),(0,r.kt)("h3",{id:"common-issues-2"},"Common issues"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Radar event listeners are not implemented correctly."),(0,r.kt)("li",{parentName:"ul"},"Radar events are not generating from location updates.")),(0,r.kt)("h3",{id:"troubleshooting-steps-2"},"Troubleshooting steps"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Verify the ",(0,r.kt)("inlineCode",{parentName:"li"},"RadarDelegate")," on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/ios#listening-for-events-with-a-delegate"},"iOS")," and ",(0,r.kt)("inlineCode",{parentName:"li"},"RadarReceiver")," on ",(0,r.kt)("a",{parentName:"li",href:"/sdk/android#listening-for-events-with-a-receiver"},"Android")," are implemented correctly. For cross-platform frameworks such as ",(0,r.kt)("a",{parentName:"li",href:"/sdk/react-native#background-tracking"},"React Native")," and ",(0,r.kt)("a",{parentName:"li",href:"/sdk/capacitor#background-tracking"},"Capacitor"),", ensure that the listeners are set up outside of the view lifecycle. Verify that you are using the correct native SDK version via the ",(0,r.kt)("a",{parentName:"li",href:"https://radar.com/dashboard/users"},"Users page")," in the dashboard."),(0,r.kt)("li",{parentName:"ol"},"Verify that expected events are firing when testing the listeners."),(0,r.kt)("li",{parentName:"ol"},"Understand the behavior of each of the listeners. The client location listener (",(0,r.kt)("inlineCode",{parentName:"li"},"onClientLocationUpdated")," on Android, ",(0,r.kt)("inlineCode",{parentName:"li"},"didUpdateClientLocation")," on iOS) is triggered whenever the Radar SDK receives an update from the device. The location updated listener (",(0,r.kt)("inlineCode",{parentName:"li"},"onLocationUpdated")," on Android, ",(0,r.kt)("inlineCode",{parentName:"li"},"didUpdateLocation")," on iOS) delivers location updates processed by Radar servers and will return refreshed user context. The Radar events listener (",(0,r.kt)("inlineCode",{parentName:"li"},"didReceiveEvents")," on Android and iOS) will only fire if events are triggered from location updates."),(0,r.kt)("li",{parentName:"ol"},"Implement the error listener methods (",(0,r.kt)("inlineCode",{parentName:"li"},"onError")," on Android, ",(0,r.kt)("inlineCode",{parentName:"li"},"didFail")," on iOS) to determine if errors are firing. Review the error messages returned to diagnose the root cause.")),(0,r.kt)("h2",{id:"troubleshooting-other-behavior"},"Troubleshooting other behavior"),(0,r.kt)("h3",{id:"multiple-radar-users-have-the-same-user-id-or-device-id"},"Multiple Radar users have the same user ID or device ID"),(0,r.kt)("p",null,"The Radar ",(0,r.kt)("a",{parentName:"p",href:"/sdk/ios"},"iOS")," and ",(0,r.kt)("a",{parentName:"p",href:"/sdk/android"},"Android")," SDKs automatically generate a unique ",(0,r.kt)("inlineCode",{parentName:"p"},"installId")," on every fresh install. Radar creates a new user record for every unique ",(0,r.kt)("inlineCode",{parentName:"p"},"installId"),". Multiple user records may have the same ",(0,r.kt)("inlineCode",{parentName:"p"},"userId")," value or ",(0,r.kt)("inlineCode",{parentName:"p"},"deviceId")," value if they have different ",(0,r.kt)("inlineCode",{parentName:"p"},"installId")," values. Multiple users generating without uninstalls indicates a potential issue setting the ",(0,r.kt)("inlineCode",{parentName:"p"},"userId")," in the SDK (i.e. passing in ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," for the ",(0,r.kt)("inlineCode",{parentName:"p"},"userId")," in certain scenarios)."),(0,r.kt)("h3",{id:"rate-limit-errors-are-occurring-when-tracking-location"},"Rate limit errors are occurring when tracking location"),(0,r.kt)("p",null,"Radar has device specific rate limits per second, hour and day for the ",(0,r.kt)("a",{parentName:"p",href:"/api#track"},"track API endpoint"),", which sends location updates to Radar. To mitigate rate limits, adjust ",(0,r.kt)("a",{parentName:"p",href:"/sdk/tracking"},"tracking options")," to collect locations less frequently. If you hit the per hour or day limits while testing, reinstalling the application with the Radar SDK will reset the rate limits."))}h.isMDXComponent=!0},297:function(e,t,n){t.Z=n.p+"assets/images/recent_events-d2b821275a97eca7099076b352d0ab37.png"},587:function(e,t,n){t.Z=n.p+"assets/images/user_context-667963ed7f4880d24e17caf44d6e5f1d.png"},1288:function(e,t,n){t.Z=n.p+"assets/images/user_record-f34086cd1ce9e0de51e32eecc9411d81.png"}}]);