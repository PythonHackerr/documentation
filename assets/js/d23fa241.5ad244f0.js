(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2223],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return d},kt:function(){return m}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},d=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=l(r),m=a,k=u["".concat(s,".").concat(m)]||u[m]||c[m]||i;return r?n.createElement(k,o(o({ref:t},d),{},{components:r})):n.createElement(k,o({ref:t},d))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=u;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:a,o[1]=p;for(var l=2;l<i;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},9149:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return o},metadata:function(){return p},toc:function(){return s},default:function(){return d}});var n=r(2122),a=r(9756),i=(r(7294),r(3905)),o={sidebar_position:6,title:"Trip Tracking",id:"trip-tracking"},p={unversionedId:"trip-tracking",id:"trip-tracking",isDocsHomePage:!1,title:"Trip Tracking",description:"Use our industry-leading SDK to build experiences for curbside and in-store pickup, delivery tracking, and more.",source:"@site/docs/trip-tracking.mdx",sourceDirName:".",slug:"/trip-tracking",permalink:"/documentation/trip-tracking",editUrl:"https://github.com/radarlabs/docs/edit/main/docs/trip-tracking.mdx",version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Trip Tracking",id:"trip-tracking"},sidebar:"defaultSidebar",previous:{title:"Beacons",permalink:"/documentation/beacons"},next:{title:"SDK Reference",permalink:"/documentation/sdk"}},s=[{value:"Quickstart",id:"quickstart",children:[]},{value:"Starting and stopping trips",id:"starting-and-stopping-trips",children:[]},{value:"Trip events",id:"trip-events",children:[]},{value:"Display live trips and ETAs",id:"display-live-trips-and-etas",children:[{value:"In the Radar trip tracking dashboard",id:"in-the-radar-trip-tracking-dashboard",children:[]},{value:"In your own UI",id:"in-your-own-ui",children:[]}]},{value:"Support",id:"support",children:[]}],l={toc:s};function d(e){var t=e.components,r=(0,a.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Use our industry-leading ",(0,i.kt)("a",{parentName:"p",href:"/sdk"},"SDK")," to build experiences for curbside and in-store pickup, delivery tracking, and more."),(0,i.kt)("h2",{id:"quickstart"},"Quickstart"),(0,i.kt)("p",null,"Want to get started quickly? Follow these three steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Create geofences.")," Import ",(0,i.kt)("a",{parentName:"p",href:"/geofences"},"geofences")," for your locations. Depending on your use case, a geofence might represent a retail store, a restaurant, a hotel, and so on.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Integrate the Radar SDK into your app.")," Integrate the ",(0,i.kt)("a",{parentName:"p",href:"/sdk"},"SDK"),' into your app or website. When a customer places an order or taps "I\'m on my way," start tracking and start a trip with custom metadata (like order ID, license plate, or car model).')),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Display live trips and ETAs.")," Display live ETAs on the trip tracking dashboard, available on the ",(0,i.kt)("a",{parentName:"p",href:"https://radar.io/pricing"},"Enterprise")," plan. Or, display live ETAs in your own UI by polling the ",(0,i.kt)("a",{parentName:"p",href:"/api#list-trips"},"list trips API")," or listening for ",(0,i.kt)("a",{parentName:"p",href:"/trip-tracking#trip-events"},"trip events")," sent to a webhook."))),(0,i.kt)("h2",{id:"starting-and-stopping-trips"},"Starting and stopping trips"),(0,i.kt)("p",null,"Integrate the ",(0,i.kt)("a",{parentName:"p",href:"/sdk"},"SDK"),' into your app or website. When a customer places an order or taps "I\'m on my way," start tracking and start a trip with an ID, a destination geofence, a travel mode, and custom metadata (e.g., customer name, car model, or license plate) depending on your use case.'),(0,i.kt)("p",null,'When the order is picked up or a customer taps "I\'m here," stop tracking and stop the trip.'),(0,i.kt)("p",null,"For example, on iOS:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-swift"},'// order placed or user taps "I\'m on my way"\nlet tripOptions = RadarTripOptions(externalId: "299")\ntripOptions.destinationGeofenceTag = "store"\ntripOptions.destinationGeofenceExternalId = "123"\ntripOptions.mode = .car\ntripOptions.metadata = [\n  "Customer Name": "Jacob Pena",\n  "Car Model": "Green Honda Civic"\n]\nRadar.startTrip(options: tripOptions)\nRadar.startTracking(trackingOptions: .continuous)\n\n// order picked up or user taps "I\'m here"\nRadar.completeTrip()\nRadar.stopTracking()\n')),(0,i.kt)("h2",{id:"trip-events"},"Trip events"),(0,i.kt)("p",null,"Radar calculates ETAs and generates events when trips are updated:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user.started_trip")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user.updated_trip")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user.approaching_trip_destination")," (configurable ETA threshold)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user.arrived_at_trip_destination")," (destination geofence entered)"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"user.stopped_trip"))),(0,i.kt)("p",null,"ETAs are calculated based on travel mode using the same routing engine that powers our ",(0,i.kt)("a",{parentName:"p",href:"/api#distance"},"distance API"),"."),(0,i.kt)("p",null,"You can receive events client-side via the ",(0,i.kt)("a",{parentName:"p",href:"/sdk"},"SDK")," or server-side via ",(0,i.kt)("a",{parentName:"p",href:"/integrations"},"event integrations"),", including webhooks."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "events": [\n    {\n      "_id": "56db1f4613012711002229f6",\n      "type": "user.updated_trip",\n      "createdAt": "2020-08-20T10:30:55.837Z",\n      "live": true,\n      "trip": {\n        "_id": "5f3e50491c2b7d005c81f5d9",\n        "live": true,\n        "externalId": "299",\n        "metadata": {\n          "Customer Name": "Jacob Pena",\n          "Car Model": "Green Honda Civic"\n        },\n        "mode": "car",\n        "destinationGeofenceTag": "store",\n        "destinationGeofenceExternalId": "123",\n        "destinationLocation": {\n          "coordinates": [\n            -105.061198,\n            39.779366\n          ],\n          "type": "Point"\n        },\n        "eta": {\n          "duration": 5.5,\n          "distance": 1331\n        },\n        "createdAt": "2020-08-20T10:27:55.830Z",\n        "updatedAt": "2020-08-20T10:30:55.837Z"\n        "status": "started"\n      },\n  ],\n  "user": {\n    "_id": "56db1f4613012711002229f4",\n    "live": true,\n    "userId": "1",\n    "deviceId": "C305F2DB-56DC-404F-B6C1-BC52F0B680D8",\n    ...\n  }\n}\n')),(0,i.kt)("h2",{id:"display-live-trips-and-etas"},"Display live trips and ETAs"),(0,i.kt)("h3",{id:"in-the-radar-trip-tracking-dashboard"},"In the Radar trip tracking dashboard"),(0,i.kt)("p",null,"The Radar trip tracking dashboard displays active trips for a specific destination geofence, including ID, custom metadata, and ETA."),(0,i.kt)("p",null,"The trip tracking dashboard is available on the ",(0,i.kt)("a",{parentName:"p",href:"https://radar.io/pricing"},"Enterprise")," plan."),(0,i.kt)("p",null,"Ask your customer success manager for a distribution of the app specific to your organization."),(0,i.kt)("img",{src:"https://images.ctfassets.net/f2vbu16fzuly/38fY5fD4H47UGa4KZXHLib/989305812e9b35a741141b1fd9c3befa/tablet-view.gif",className:"hero-image"}),(0,i.kt)("h3",{id:"in-your-own-ui"},"In your own UI"),(0,i.kt)("p",null,"Poll the ",(0,i.kt)("a",{parentName:"p",href:"/api#list-trips"},"list trips API")," to retrieve active trips for a specific destination geofence, including ID, custom metadata, and ETA. For example, you might poll the list trips API from an internal dashboard."),(0,i.kt)("p",null,"Or, listen for ",(0,i.kt)("a",{parentName:"p",href:"/trip-tracking#trip-events"},"trip events")," sent to a webhook. From there, forward trip information, including ID, custom metadata, and ETA, to other systems. For example, you might set up a webhook that sends ETA to an order management or kitchen display system."),(0,i.kt)("h2",{id:"support"},"Support"),(0,i.kt)("p",null,"Have questions? We're here to help! Email us at ",(0,i.kt)("a",{parentName:"p",href:"mailto:support@radar.io"},"support@radar.io"),"."))}d.isMDXComponent=!0}}]);