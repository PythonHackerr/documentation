"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[29],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),f=i,m=u["".concat(l,".").concat(f)]||u[f]||d[f]||r;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},970:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(7294),i="alert_19nB",r="alertWarning_1tiz",o="alertInfo_1EfW",s="alertTip_1W6d",l="alertSuccess_7EZp",c=function(e){var t=e.children,n=e.alertType;return"warning"===n?a.createElement("div",{className:"alert "+i+" "+r,role:"alert"},t):"info"===n?a.createElement("div",{className:"alert "+i+" "+o,role:"alert"},t):"tip"===n?a.createElement("div",{className:"alert "+i+" "+s,role:"alert"},t):"success"===n?a.createElement("div",{className:"alert "+i+" "+l,role:"alert"},t):null}},3084:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=n(970),s={title:"Notifications"},l=void 0,c={unversionedId:"notifications",id:"notifications",isDocsHomePage:!1,title:"Notifications",description:"Notifications are available on { }",source:"@site/docs/notifications.mdx",sourceDirName:".",slug:"/notifications",permalink:"/documentation/notifications",editUrl:"https://github.com/radarlabs/docs/edit/main/docs/notifications.mdx",tags:[],version:"current",frontMatter:{title:"Notifications"},sidebar:"defaultSidebar",previous:{title:"Fraud",permalink:"/documentation/fraud"},next:{title:"Integrations",permalink:"/documentation/integrations"}},p=[{value:"Quickstart",id:"quickstart",children:[]},{value:"How it works",id:"how-it-works",children:[]},{value:"Analytics",id:"analytics",children:[]},{value:"Support",id:"support",children:[]}],d={toc:p};function u(e){var t=e.components,s=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)(o.Z,{alertType:"info",mdxType:"Alert"},"Notifications are available on "," ",(0,r.kt)("a",{href:"https://github.com/radarlabs/radar-sdk-ios/releases/tag/3.7.6"},"iOS SDK v3.7.6")," "," and above."),(0,r.kt)("p",null,"Use Radar's on-premise notifications to display a notification on iOS devices when a user enters a geofence. Notifications work even with only foreground or ",(0,r.kt)("b",null,'"when in use"')," permissions!"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"OnPremiseNotifications",src:n(7747).Z})),(0,r.kt)("h2",{id:"quickstart"},"Quickstart"),(0,r.kt)("p",null,"First, ",(0,r.kt)("a",{parentName:"p",href:"https://radar.com/signup"},"sign up")," for Radar and get an API key."),(0,r.kt)("p",null,"Then, ",(0,r.kt)("a",{parentName:"p",href:"/geofences#create-geofences"},"create geofences")," via the dashboard, CSV import, or the API."),(0,r.kt)("p",null,"From there, add values for the following ",(0,r.kt)("inlineCode",{parentName:"p"},"metadata")," keys to the geofences that will trigger notifications."),(0,r.kt)("h6",{id:"metadata-keys"},"Metadata keys"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"radar:notificationText"))," (string, required): The body text of the notification."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"radar:notificationTitle"))," (string, optional): The title of the notification, displayed in bold."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"radar:notificationSubtitle"))," (string, optional): The subtitle of the notification, displayed in bold."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"radar:notificationRepeats"))," (boolean, optional): Determines whether the notification should be delivered multiple times before notifications are registered again. Defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"false"),".")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"PumpToStoreMetadata",src:n(2166).Z})),(0,r.kt)("p",null,"Finally, ",(0,r.kt)("a",{parentName:"p",href:"/sdk/ios"},"integrate the SDK")," and call ",(0,r.kt)("inlineCode",{parentName:"p"},"Radar.trackOnce()")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"Radar.startTracking()"),", depending on your use case. Make sure that the ",(0,r.kt)("inlineCode",{parentName:"p"},"syncGeofences")," ",(0,r.kt)("a",{parentName:"p",href:"/sdk/tracking#ios"},"tracking option")," is enabled. Radar will display a notification when the device is detected inside a geofence that has the above ",(0,r.kt)("inlineCode",{parentName:"p"},"metadata")," keys."),(0,r.kt)("h2",{id:"how-it-works"},"How it works"),(0,r.kt)("p",null,"Radar's on-premise notifications make use of location notification triggers on iOS. These triggers work with foreground or ",(0,r.kt)("b",null,'"when in use"')," permissions. This feature is privacy-friendly and won't collect any additional location data. Notifications are only displayed after the user opens the app for the first time with the ",(0,r.kt)("a",{parentName:"p",href:"/documentation/sdk"},"Radar SDK")," installed."),(0,r.kt)("p",null,"No additional lines of code are necessary to power on-premise notifications. They function completely under the hood after setup. The same calls to ",(0,r.kt)("inlineCode",{parentName:"p"},"Radar.trackOnce()")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Radar.startTracking()")," will return nearby geofences with notifications, which will then be registered on the device."),(0,r.kt)("p",null,"Radar only controls the registration of notifications on the device. Once that happens, surfacing notifications is subject to the ",(0,r.kt)("a",{parentName:"p",href:"https://developer.apple.com/documentation/usernotifications/unlocationnotificationtrigger#overview"},"system limits and heuristics")," that iOS enforces."),(0,r.kt)(o.Z,{alertType:"info",mdxType:"Alert"},"You need to be outside a geofence when it is registered on the device for the notification to fire upon entry."),(0,r.kt)("h2",{id:"analytics"},"Analytics"),(0,r.kt)("p",null,"With Radar ",(0,r.kt)("a",{parentName:"p",href:"/api#log-a-conversion"},"Conversions"),", you can log an event whenever a user interacts with a notification."),(0,r.kt)("p",null,"Refer to the ",(0,r.kt)("a",{parentName:"p",href:"/sdk/ios#conversions"},"iOS SDK Conversions reference")," for setup instructions."),(0,r.kt)("p",null,"With Radar ",(0,r.kt)("a",{parentName:"p",href:"/api#log-a-conversion"},"Conversions"),", you can also retrieve the source of an ",(0,r.kt)("em",{parentName:"p"},"opened_app")," conversion for iOS apps. Within the ",(0,r.kt)("em",{parentName:"p"},"metadata")," object of the ",(0,r.kt)("a",{parentName:"p",href:"/sdk/ios#conversions"},"logged conversion"),", we will return a ",(0,r.kt)("em",{parentName:"p"},"conversion_source")," with either "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"notification"))," (app was opened using an external 3rd party notification) "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"radar_notification"))," (app was opened using the configured on-prem notification): ")),(0,r.kt)("p",null,"You can also view these conversion analytics by navigating to Geofencing -> Analytics -> Events -> Filters (top right) -> select Type as ",(0,r.kt)("em",{parentName:"p"},"opened_app")," -> Apply Filters. From there, select ",(0,r.kt)("em",{parentName:"p"},"conversion_source")," from the ",(0,r.kt)("em",{parentName:"p"},"grouped_by")," dropdown. See screenshot below:\n",(0,r.kt)("img",{alt:"OnPremiseNotifications",src:n(3852).Z})),(0,r.kt)("h2",{id:"support"},"Support"),(0,r.kt)("p",null,"Have questions? We're here to help! Contact us at ",(0,r.kt)("a",{parentName:"p",href:"https://radar.com/support"},"radar.com/support"),"."))}u.isMDXComponent=!0},3852:function(e,t,n){t.Z=n.p+"assets/images/conversion_source_analytics-4a52cd8a87055b91f37bebaecc7f5f16.png"},7747:function(e,t,n){t.Z=n.p+"assets/images/on_premise_notifications-10ba66d28924be640d13a9e18bed6534.png"},2166:function(e,t,n){t.Z=n.p+"assets/images/pump_to_store_metadata-12b24b24e410ccfa991405eaa984fa17.png"}}]);